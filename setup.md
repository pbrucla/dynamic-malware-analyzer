# Initial Setup
We are actively updating the doc, so some things may change but should be good.

We will be running Panda-re using [Docker](https://www.docker.com/). If you do not have Docker, follow the installation instructions [here](https://docs.docker.com/get-docker/).

PANDA is an open-source Platform for Architecture-Neutral Dynamic Analysis. It has the ability to record and replay executions, allowing the user to perform deep system analysis without actually running the given executable or task themselves.  For more information on PANDA-re, see their [website](https://panda.re/).

To start off this project, we will be making use of some materials provided by PANDA's developers during a 2022 class, along with the base Docker container itself. The given materials are already included in this repository under the `panda_materials`directoy.

## Download Initial Materials
The Panda class materials are too large to reasonably be hosted on Github so you will download them yourself. To download the class materials, visit https://panda.re/secret/pc2022.zip and unzip the contents into the `panda_materials/panda_class_materials` folder within this Github repository. Do not commit these files (for now).

## Docker Container Setup
1. Pull the PANDA Docker container from DockerHub via `docker pull pandare/panda`
2. Run the command `docker run -it -v ./panda_materials:/panda_materials --name dynamic-malware-analysis pandare/panda  bash`.  
    * This will run the panda-re container interactively and give it the name "dynamic-malware-analysis" on your machine.
    * All of the materials present in the local "/panda_materials" directory will be present in the Docker container's "/panda_materials" directory.
    * You will enter as root into the container. Exit using `exit`.
3. From now on, to re-run this container, call `docker start -i dynamic-malware-analysis`

## Running the qcow2
To run the initial Linux qcow2, call this command from **within your docker container**
```
panda-system-i386 -nographic /panda_materials/panda_class_materials/qcows/wheezy.qcow2 
```
If this does not work, `exit`, then run
```
docker stop dynamic-malware-analysis
docker rm dynamic-malware-analysis
```
then restart at Docker Container Setup (assuming you downloaded an extracte already) 

Boot in normal mode. Once the boot succeeds, log in with the credentials:
* username = root
* password = root

To return to the base Docker container after booting up panda, type:
* Ctrl+A, C
* quit

